<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Jörg Kuharev &amp; Pedro Navarro" />

<meta name="date" content="2016-08-29" />

<title>LFQbench</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>


<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div class="fluid-row" id="header">


<h1 class="title">LFQbench</h1>
<h4 class="author"><em>Jörg Kuharev &amp; Pedro Navarro</em></h4>
<h4 class="date"><em>2016-08-29</em></h4>

</div>


<p>LFQbench is an open source R package for the automated evaluation of label-free quantification performance. The evaluation bases on the interpretation of the quantitative analysis results of hybrid proteome samples prepared in known ratios.</p>
<p>LFQbench calculates and represents graphically a set of qualitative and quantitative performance metrics like identification rates, precision and accuracy of quantification, providing developers and end-users with a standardized set of reports to enable an in-depth performance evaluation of their software and analysis platforms.</p>
<div id="load-lfqbench" class="section level2">
<h2>Load LFQbench</h2>
<p>LFQbench includes two main modules implemented in a single package (LFQbench). The first module is called FSWE (Format SoftWare Exports): it is able to read practically any kind of output text format generated from any label-free quantification software tools. The second module is LFQbench: this is the analysis module that generates all benchmark reports.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(LFQbench)</code></pre></div>
</div>
<div id="configure" class="section level2">
<h2>Configure</h2>
<div id="configuring-lfqbench-for-benchmarking-a-software-report-not-included-as-default" class="section level3">
<h3>Configuring LFQbench for benchmarking a software report not included as default</h3>
<p>In FSWE it is necessary to define several details in order to run it properly:</p>
<ul>
<li><strong>Datasets to be evaluated</strong>: each dataset is defined as a named vector of strings. The strings define the raw file names of the dataset as they are defined at the report(s) of the software tool(s) you want to benchmark. FSWE can analyse two samples (sample A and sample B), which defer on their species composition ratio. It is required to input the same number of replicates for both samples A and B. The first half of values of the named vector defining raw names is interpreted as sample A, and the second half is interpreted as sample B.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define the data sets you want to analyse. </span>
dataSets =<span class="st"> </span><span class="kw">data.frame</span>(
    <span class="st">&quot;HYE124_TTOF6600_64var&quot;</span>=<span class="kw">c</span>(<span class="st">&quot;lgillet_I150211_008&quot;</span>, <span class="st">&quot;lgillet_I150211_010&quot;</span>, <span class="st">&quot;lgillet_I150211_012&quot;</span>, <span class="co"># A</span>
                               <span class="st">&quot;lgillet_I150211_009&quot;</span>, <span class="st">&quot;lgillet_I150211_011&quot;</span>, <span class="st">&quot;lgillet_I150211_013&quot;</span>) <span class="co"># B</span>
    ,<span class="st">&quot;HYE110_SynaptG2S&quot;</span>=<span class="kw">c</span>( <span class="kw">paste</span>(<span class="kw">rep</span>(<span class="st">&quot;HYE110_A&quot;</span>), <span class="dv">1</span>:<span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot;.&quot;</span>), <span class="kw">paste</span>(<span class="kw">rep</span>(<span class="st">&quot;HYE110_B&quot;</span>), <span class="dv">1</span>:<span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot;.&quot;</span>))
    ,<span class="dt">row.names=</span><span class="kw">c</span>(<span class="st">&quot;A1&quot;</span>, <span class="st">&quot;A2&quot;</span>, <span class="st">&quot;A3&quot;</span>, <span class="st">&quot;B1&quot;</span>, <span class="st">&quot;B2&quot;</span>, <span class="st">&quot;B3&quot;</span>)
)</code></pre></div>
<ul>
<li><strong>Define the species tags</strong>: protein names should provide a clue about the species. A convenient format is Uniprot’s entry name (example: 1433B_HUMAN is the entry name of the 14-3-3 protein beta/alpha of human). These species tags (clues) must be defined in FSWE as a named list.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">speciesTags =<span class="st"> </span><span class="kw">list</span>(<span class="dt">HUMAN =</span> <span class="st">&quot;_HUMAN&quot;</span>, <span class="dt">YEAST =</span> <span class="st">&quot;_YEAS&quot;</span>, <span class="dt">ECOLI =</span> <span class="st">&quot;_ECOLI&quot;</span>) </code></pre></div>
<p>You can init LFQbench and FSWE by passing the defined datasets and species tags. LFQbench module <strong>must</strong> be initialized before FSWE.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">LFQbench.initConfiguration</span>()
<span class="kw">FSWE.initConfiguration</span>( dataSets, speciesTags )</code></pre></div>
<p>Note that after running the initialization for both modules, some new objects appear at the global environment. Among them:</p>
<ul>
<li><strong>LFQbench.Config</strong>: it contains a list of configuration parameters for the analysis that can be modified by using the command LFQbench.changeConfiguration. The most important ones are commented below.</li>
<li><strong>FSWE.modificationsToUniMod</strong>: a list of default fixed and variable modifications as they appear within the sequence, and their corresponding translation to UniMod. If you miss any modification, you may add it by using the function FSWE.addModification.</li>
<li><strong>FSWE.configFunctionForSoftware</strong>: this object contains configuration parameters to read each specific software tool report. There are many default software tool configurations (see FSWE.softwareNames), and you can add your own configurations by using FSWE.addSoftwareConfiguration.</li>
</ul>
<p>Adding a software configuration only requires to know some necessary column names. In this example, we use a non default software tool report from ISOQuant. We can configure it with the following command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##### Add configuration for ISOQuant (peptides) 
<span class="kw">FSWE.addSoftwareConfiguration</span>(<span class="st">&quot;ISOQuant_pep&quot;</span>,               
                              <span class="co"># Software configuration name      </span>
                              <span class="dt">input_format =</span> <span class="st">&quot;wide&quot;</span>,        
                              <span class="co"># input_format can be wide or long. Wide contains all quantitative values (all samples and replicates) </span>
                              <span class="co"># for a peptide in a single row, whereas long contains a single quantitative value (just one replicate)</span>
                              <span class="co"># in a row.</span>
                              <span class="dt">input.extension =</span> <span class="st">&quot;*.csv$&quot;</span>,
                              <span class="co"># it is important to know that LFQbench honours the extension: csv are COMMA separated values, tsv are TAB separated values</span>
                              <span class="dt">nastrings =</span> <span class="st">&quot; &quot;</span>,
                              <span class="co"># how NA (not available) values are reported</span>
                              <span class="dt">quantitative.var =</span> <span class="kw">make.names</span>(<span class="st">&quot;intensity in&quot;</span>),
                              <span class="co"># in long formats, how the quantitative value column is named</span>
                              <span class="dt">quantitative.var.tag =</span> <span class="kw">make.names</span>(<span class="st">&quot;intensity in&quot;</span>),
                              <span class="co"># in wide formats, how quantitative values are tagged </span>
                              <span class="co">#(they also should include the injection names reported at the datasets object)</span>
                              <span class="dt">protein.var =</span> <span class="st">&quot;entry&quot;</span>,
                              <span class="co"># name of the protein name variable. Remember: protein names should include species information (speciesTags)</span>
                              <span class="dt">sequence.mod.var =</span> <span class="st">&quot;sequence&quot;</span>,
                              <span class="co"># variable name of sequence (including modifications as defined in FSWE.modificationsToUniMod)</span>
                              <span class="dt">charge.var =</span> <span class="kw">make.names</span>(<span class="st">&quot;signal_charge&quot;</span>)
                              <span class="co"># variable name of the precursar charge state.</span>
                              )</code></pre></div>
<div id="adding-a-variable-modification" class="section level4">
<h4>Adding a variable modification</h4>
<p>You may add new modifications (or modifications reported in different ways for each software tool) by using the command FSWE.addModification(). You must use a regular expression compatible format to add modifications.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Add a modification</span>
<span class="kw">FSWE.addModification</span>( <span class="st">&quot;</span><span class="ch">\\</span><span class="st">[Oxi</span><span class="ch">\\</span><span class="st">]&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">(UniMod:35</span><span class="ch">\\</span><span class="st">)&quot;</span>)

<span class="co"># See modifications available</span>
<span class="kw">print</span>(FSWE.modificationsToUniMod)</code></pre></div>
<pre><code>## &lt;hash&gt; containing 19 key-value pair(s).
##   \[-17\.027\(Q\)\]Q : Q\(UniMod:28\)
##   \[-18\.011\(E\)\]E : E\(UniMod:27\)
##   \[15\.995\(M\)\]M : M\(UniMod:35\)
##   \[39\.995\(C\)\]C : C\(UniMod:26\)
##   \[42\.011\(N-term\)\]A : A\(UniMod:1\)
##   \[42\.011\(N-term\)\]C : C\(UniMod:1\)
##   \[42\.011\(N-term\)\]D : D\(UniMod:1\)
##   \[42\.011\(N-term\)\]E : E\(UniMod:1\)
##   \[42\.011\(N-term\)\]G : G\(UniMod:1\)
##   \[42\.011\(N-term\)\]M : M\(UniMod:1\)
##   \[42\.011\(N-term\)\]P : P\(UniMod:1\)
##   \[42\.011\(N-term\)\]S : S\(UniMod:1\)
##   \[42\.011\(N-term\)\]T : T\(UniMod:1\)
##   \[42\.011\(N-term\)\]V : V\(UniMod:1\)
##   \[57\.021\(C\)\]C : C\(UniMod:4\)
##   \[CAM\] : \(UniMod:4\)
##   \[Oxi\] : \(UniMod:35\)
##   \[\+16\] : \(UniMod:35\)
##   \[\+57\] : \(UniMod:4\)</code></pre>
</div>
</div>
</div>
<div id="analysis" class="section level2">
<h2>Analysis</h2>
<div id="source-directory" class="section level3">
<h3>Source directory</h3>
<p>Set the directory that stores all software tool reports as data root folder. You may also create a subfolder structure, which will contain LFQbench analyses.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Source directory and input files
srcDir =<span class="st"> &quot;../ext/data/vignette_examples&quot;</span>

##### Set the data root folder and create the subfolder structure
<span class="kw">LFQbench.setDataRootFolder</span>( srcDir, <span class="dt">createSubfolders =</span> T )</code></pre></div>
</div>
<div id="generate-reports-in-lfqbench-format." class="section level3">
<h3>Generate reports in LFQbench format.</h3>
<p>FSWE parses software tool reports, makes some common data processing (like adding up quantitative values of the different charge states for a same peptide), and outputs each analysed report file in two different files (peptide and protein summaries) compatible with LFQbench at the newly created <em>input</em> folder.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">inputFiles =<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path =</span> LFQbench.Config$DataRootFolder, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">..+&quot;</span>)

<span class="co"># generate reports (they will be used by LFQbench)</span>
nix =<span class="st"> </span><span class="kw">sapply</span>(inputFiles, 
             FSWE.generateReports,
             <span class="dt">softwareSource =</span> <span class="st">&quot;guess&quot;</span>,
             <span class="dt">keep_original_names =</span> T,
             <span class="dt">singleHits =</span> F,
             <span class="dt">plotHistogram =</span> T, 
             <span class="dt">plotHistNAs =</span> T, 
             <span class="dt">reportSequences =</span> F
)</code></pre></div>
<pre><code>## Generating peptide report for ../ext/data/vignette_examples/ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv
## Generating protein report for ../ext/data/vignette_examples/ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv
## [1] &quot;Summarising proteins...&quot;
## [1] &quot;using TOP3 individual for each run&quot;</code></pre>
<pre><code>## Generating peptide report for ../ext/data/vignette_examples/PeakView_TTOF6600_64w_benchmark_example.xlsx
## Generating protein report for ../ext/data/vignette_examples/PeakView_TTOF6600_64w_benchmark_example.xlsx
## [1] &quot;Summarising proteins...&quot;
## [1] &quot;using TOP3 individual for each run&quot;</code></pre>
<pre><code>## Generating peptide report for ../ext/data/vignette_examples/Spectronaut_TTOF6600_64w_example.tsv
## Generating protein report for ../ext/data/vignette_examples/Spectronaut_TTOF6600_64w_example.tsv
## [1] &quot;Summarising proteins...&quot;
## [1] &quot;using TOP3 individual for each run&quot;</code></pre>
<p>Note here that by default FSWE assigns the reading report configuration in function of the report name (softwareSource = “guess”). This is done by parsing the start of the file name and comparing it with the available <em>FSWE.softwareNames</em>. It is then recommendable to rename your files by including at the start the software name as it appears at the <em>FSWE.configFunctionForSoftware</em> (you can see the current available names at <em>FSWE.softwareNames</em>). In this execution, the current available names are: . By renaming the file names this way, you are able to run all LFQbench analyses of different software tools in the same LFQbench analysis batch.</p>
</div>
<div id="perform-lfqbench-analyses" class="section level3">
<h3>Perform LFQbench analyses</h3>
<p>LFQbench analyses can be stored in a batch analysis (all files stored at <em>log</em> and <em>plot</em> folders), and also they can be further used to represent data online.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># LFQbench analysis</span>

<span class="co">#LFQbench.changeConfiguration(SampleComposition = )</span>
LFQbench.Config$LogIntensityPlotRange =<span class="st"> </span><span class="kw">c</span>(<span class="dv">9</span>,<span class="dv">20</span>)

res &lt;-<span class="st"> </span><span class="kw">LFQbench.batchProcessRootFolder</span>()</code></pre></div>
<pre><code>## processing ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv_peptides.tsv ... 
## [done]
## processing ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv_proteins.tsv ... 
## [done]
## processing PeakView_TTOF6600_64w_benchmark_example.xlsx_peptides.tsv ... 
## [done]
## processing PeakView_TTOF6600_64w_benchmark_example.xlsx_proteins.tsv ... 
## [done]
## processing Spectronaut_TTOF6600_64w_example.tsv_peptides.tsv ... 
## [done]
## processing Spectronaut_TTOF6600_64w_example.tsv_proteins.tsv ... 
## [done]
## creating ../ext/data/vignette_examples/plot/ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv_peptides.pdf ...</code></pre>
<pre><code>## [done]
## creating ../ext/data/vignette_examples/plot/ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv_proteins.pdf ...</code></pre>
<pre><code>## [done]
## creating ../ext/data/vignette_examples/plot/PeakView_TTOF6600_64w_benchmark_example.xlsx_peptides.pdf ...</code></pre>
<pre><code>## [done]
## creating ../ext/data/vignette_examples/plot/PeakView_TTOF6600_64w_benchmark_example.xlsx_proteins.pdf ...</code></pre>
<pre><code>## [done]
## creating ../ext/data/vignette_examples/plot/Spectronaut_TTOF6600_64w_example.tsv_peptides.pdf ...</code></pre>
<pre><code>## [done]
## creating ../ext/data/vignette_examples/plot/Spectronaut_TTOF6600_64w_example.tsv_proteins.pdf ...</code></pre>
<pre><code>## [done]</code></pre>
<pre><code>## --------------------------------------------------------------------------------
## # Metrics description: 
## 
## Identification statistics:
##   the number of identifications for benchmark species
## 
## Quantification statistics:
##    valid ratios - total number of valid log-ratios that meet following conditions:
##     a) peptide/protein could be quantified in both samples.
##     b) calulcated log-ratio falls within the expectation range
##        defined by the sample composition and the spread of spread of the log-ratios observed for each species.
##     The expectation range is defined as a miximum difference of 5 standard deviations from the average ratio.
##    in plot range - numbers of valid log-ratios inside of the user defined plot range
##    out of plot range - numbers of valid log-ratios outside of the user defined plot range
##    invalid ratios - total numbers of invalid log-ratios
##    invalid ratios, out of validity range - proteins/peptides outside of validity range (see condition b)
##    invalid ratios, missing value - proteins/peptides exclusively quantified in one of the samples (see condition a)
## 
## Technical variance:
##   the median CV for the background species among replicate runs
## 
## Global accuracy:
##   accuracy of relative quantification,
##   the median deviation of log-ratios to the expected value
## 
## Global precision:
##   precision of quantification,
##   the standard deviation of log-ratios
## 
## Global species overlap:
##  species separation ability,
##  the area under ROC curve between a species pair.
## 
## Local accuracy:
##  local accuracy of relative quantification,
##  the median deviation of log-ratios to the expected value
##  for partial data split in quantiles by intensity in first sample
## 
## Local precision:
##  precision of quantification,
##  the standard deviation of log-ratios
##  for partial data split in quantiles by intensity in first sample
## 
## Local species overlap:
##  species separation ability,
##  the area under ROC curve between a species pair
##  for partial data split in quantiles by intensity in first sample
## --------------------------------------------------------------------------------
## --------------------------------------------
## 
## ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv_peptides
## name: ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv_peptides
## Identification statistics: 11736
## Quantification statistics: 
## $`A:B`
##                                HUMAN YEAST ECOLI
## invalid ratios                  3819  1435   904
## invalid, out of validity range     0     0     0
## invalid, missing value          3819  1435   904
## valid ratios                    4158   735   685
## in plot range                   4133   636   620
## out of plot range                 25    99    65
## 
## 
## Technical variance: 0.1018731
## Global accuracy: 
## $`A:B`
##     HUMAN     YEAST     ECOLI 
##  0.000000  2.130944 -1.191820 
## 
## 
## Global precision: 
## $`A:B`
##     HUMAN     YEAST     ECOLI 
## 0.7809934 1.7353688 1.2999017 
## 
## 
## Global species overlap: 
## $`A:B`
## HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI 
##   0.8674392   0.9382234   0.9774547 
## 
## 
## Local accuracy: 
## $`A:B`
##           HUMAN    YEAST     ECOLI
## Q1  0.040716669 2.418121 -1.007641
## Q2  0.009968263 2.300755 -1.456440
## Q3 -0.033658364 1.737228 -1.066596
## 
## 
## Local precision: 
## $`A:B`
##        HUMAN    YEAST     ECOLI
## Q1 0.9431045 1.763697 1.7543298
## Q2 0.7325138 1.505324 0.8127825
## Q3 0.6213687 1.782097 0.9078830
## 
## 
## Local species overlap: 
## $`A:B`
##    HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI
## Q1   0.8753796   0.7177758   0.8836014
## Q2   0.8527394   0.9520468   0.9738252
## Q3   0.8006318   0.9813068   0.9573484
## 
## 
## 
## --------------------------------------------
## 
## ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv_proteins
## name: ISOQuant_pep_2016-010_HYE110_UDMSE_peptide_quantification_report.csv_proteins
## Identification statistics: 1937
## Quantification statistics: 
## $`A:B`
##                                HUMAN YEAST ECOLI
## invalid ratios                   247   208   145
## invalid, out of validity range     0     0     0
## invalid, missing value           247   208   145
## valid ratios                     995   181   161
## in plot range                    995   162   139
## out of plot range                  0    19    22
## 
## 
## Technical variance: 0.09491896
## Global accuracy: 
## $`A:B`
##     HUMAN     YEAST     ECOLI 
##  0.000000  1.900472 -1.170193 
## 
## 
## Global precision: 
## $`A:B`
##     HUMAN     YEAST     ECOLI 
## 0.7568674 1.5740232 0.9836870 
## 
## 
## Global species overlap: 
## $`A:B`
## HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI 
##   0.9010633   0.9818097   0.9933084 
## 
## 
## Local accuracy: 
## $`A:B`
##          HUMAN    YEAST     ECOLI
## Q1  0.16345821 2.649768 -1.188724
## Q2 -0.02781769 2.134302 -1.357282
## Q3 -0.04984528 1.323101 -1.001456
## 
## 
## Local precision: 
## $`A:B`
##        HUMAN    YEAST     ECOLI
## Q1 0.9542317 1.633205 1.1328061
## Q2 0.6261273 1.099081 0.8150599
## Q3 0.6088526 1.569073 0.9395874
## 
## 
## Local species overlap: 
## $`A:B`
##    HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI
## Q1   0.9224776   0.8342105   1.0000000
## Q2   0.8687827   0.9894488   0.9824507
## Q3   0.8083815   0.9866606   0.9975490
## 
## 
## 
## --------------------------------------------
## 
## PeakView_TTOF6600_64w_benchmark_example.xlsx_peptides
## name: PeakView_TTOF6600_64w_benchmark_example.xlsx_peptides
## Identification statistics: 3302
## Quantification statistics: 
## $`A:B`
##                                HUMAN YEAST ECOLI
## invalid ratios                   106   306   418
## invalid, out of validity range     0     0     0
## invalid, missing value           106   306   418
## valid ratios                    1451   619   402
## in plot range                   1451   619   402
## out of plot range                  0     0     0
## 
## 
## Technical variance: 0.06223386
## Global accuracy: 
## $`A:B`
##       HUMAN       YEAST       ECOLI 
##  0.00000000 -0.00273761  0.08865045 
## 
## 
## Global precision: 
## $`A:B`
##     HUMAN     YEAST     ECOLI 
## 0.2345301 0.2941245 0.4172283 
## 
## 
## Global species overlap: 
## $`A:B`
## HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI 
##   0.9855528   0.9869964   0.9984649 
## 
## 
## Local accuracy: 
## $`A:B`
##            HUMAN       YEAST        ECOLI
## Q1 -0.0103529332 -0.07522958 0.2102981097
## Q2  0.0009399194 -0.01436289 0.1169354060
## Q3  0.0090400074  0.05214669 0.0007542413
## 
## 
## Local precision: 
## $`A:B`
##        HUMAN     YEAST     ECOLI
## Q1 0.2841307 0.2898079 0.5369625
## Q2 0.2410514 0.2643365 0.3809661
## Q3 0.1603814 0.3228699 0.2162221
## 
## 
## Local species overlap: 
## $`A:B`
##    HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI
## Q1   0.9850317   0.9687863   0.9905149
## Q2   0.9695669   0.9984205   0.9997495
## Q3   0.9920494   0.9934407   0.9991234
## 
## 
## 
## --------------------------------------------
## 
## PeakView_TTOF6600_64w_benchmark_example.xlsx_proteins
## name: PeakView_TTOF6600_64w_benchmark_example.xlsx_proteins
## Identification statistics: 370
## Quantification statistics: 
## $`A:B`
##                                HUMAN YEAST ECOLI
## invalid ratios                     6    18    41
## invalid, out of validity range     0     0     0
## invalid, missing value             6    18    41
## valid ratios                     173    85    47
## in plot range                    173    85    47
## out of plot range                  0     0     0
## 
## 
## Technical variance: 0.05930475
## Global accuracy: 
## $`A:B`
##      HUMAN      YEAST      ECOLI 
## 0.00000000 0.04977152 0.06751814 
## 
## 
## Global precision: 
## $`A:B`
##     HUMAN     YEAST     ECOLI 
## 0.1225878 0.2151134 0.2909042 
## 
## 
## Global species overlap: 
## $`A:B`
## HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI 
##    0.999932    1.000000    1.000000 
## 
## 
## Local accuracy: 
## $`A:B`
##            HUMAN      YEAST      ECOLI
## Q1 -0.0001710294 0.01064577 0.16543014
## Q2 -0.0028037579 0.08007078 0.06751814
## Q3  0.0032423045 0.06719198 0.01050192
## 
## 
## Local precision: 
## $`A:B`
##         HUMAN     YEAST     ECOLI
## Q1 0.16491043 0.2545071 0.3475763
## Q2 0.09465325 0.2280048 0.2735039
## Q3 0.09618704 0.1554285 0.2320289
## 
## 
## Local species overlap: 
## $`A:B`
##    HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI
## Q1           1           1           1
## Q2           1           1           1
## Q3           1           1           1
## 
## 
## 
## --------------------------------------------
## 
## Spectronaut_TTOF6600_64w_example.tsv_peptides
## name: Spectronaut_TTOF6600_64w_example.tsv_peptides
## Identification statistics: 4678
## Quantification statistics: 
## $`A:B`
##                                HUMAN YEAST ECOLI
## invalid ratios                    24   184   418
## invalid, out of validity range     0     0     0
## invalid, missing value            24   184   418
## valid ratios                    1841  1465   746
## in plot range                   1841  1464   746
## out of plot range                  0     1     0
## 
## 
## Technical variance: 0.06160095
## Global accuracy: 
## $`A:B`
##       HUMAN       YEAST       ECOLI 
## 0.000000000 0.006870306 0.133242655 
## 
## 
## Global precision: 
## $`A:B`
##     HUMAN     YEAST     ECOLI 
## 0.3132392 0.3931409 0.6779666 
## 
## 
## Global species overlap: 
## $`A:B`
## HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI 
##   0.9648166   0.9747398   0.9850269 
## 
## 
## Local accuracy: 
## $`A:B`
##           HUMAN        YEAST      ECOLI
## Q1  0.028524419  0.037501862 0.31125626
## Q2 -0.002850147  0.001951384 0.17616963
## Q3 -0.008984548 -0.009730432 0.02555866
## 
## 
## Local precision: 
## $`A:B`
##        HUMAN     YEAST     ECOLI
## Q1 0.4218595 0.4385076 0.9238387
## Q2 0.2537548 0.4184955 0.5120097
## Q3 0.2241624 0.2995975 0.4313201
## 
## 
## Local species overlap: 
## $`A:B`
##    HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI
## Q1   0.9251985   0.9557085   0.9326012
## Q2   0.9579247   0.9836816   0.9895347
## Q3   0.9806531   0.9944545   0.9960744
## 
## 
## 
## --------------------------------------------
## 
## Spectronaut_TTOF6600_64w_example.tsv_proteins
## name: Spectronaut_TTOF6600_64w_example.tsv_proteins
## Identification statistics: 506
## Quantification statistics: 
## $`A:B`
##                                HUMAN YEAST ECOLI
## invalid ratios                     1     6    25
## invalid, out of validity range     0     0     0
## invalid, missing value             1     6    25
## valid ratios                     212   174    88
## in plot range                    212   174    88
## out of plot range                  0     0     0
## 
## 
## Technical variance: 0.03062434
## Global accuracy: 
## $`A:B`
##        HUMAN        YEAST        ECOLI 
## 1.734723e-18 9.815355e-03 7.800380e-02 
## 
## 
## Global precision: 
## $`A:B`
##     HUMAN     YEAST     ECOLI 
## 0.1435670 0.2999619 0.5754916 
## 
## 
## Global species overlap: 
## $`A:B`
## HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI 
##   0.9802375   0.9882075   0.9884404 
## 
## 
## Local accuracy: 
## $`A:B`
##            HUMAN        YEAST       ECOLI
## Q1  0.0005064032  0.075019941 0.130462201
## Q2 -0.0004792445 -0.004379041 0.128966298
## Q3 -0.0011534277 -0.006053920 0.004133878
## 
## 
## Local precision: 
## $`A:B`
##         HUMAN     YEAST     ECOLI
## Q1 0.18732232 0.3651349 0.8714099
## Q2 0.14867380 0.3246188 0.4303350
## Q3 0.06486972 0.1459417 0.1418242
## 
## 
## Local species overlap: 
## $`A:B`
##    HUMAN-YEAST HUMAN-ECOLI YEAST-ECOLI
## Q1   0.9655271   0.9717882   0.9241026
## Q2   0.9819820   0.9990079   0.9989011
## Q3   1.0000000   1.0000000   1.0000000
## 
## 
## 
## storing identification statistics ... [done]</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myr &lt;-<span class="st"> </span>res[<span class="dv">1</span>]

<span class="co">#LFQbench.showAllSpeciesQC(myr)</span>
<span class="co">#LFQbench.plotResultSet(res[1])</span>
<span class="co">#LFQbench.plotResultSet(res[2], showScatterPlot = F, showScatterAndDensityPlot = T, showBoxPlot = F, showDensityPlot = F)</span>

<span class="kw">LFQbench.explainMetrics</span>()</code></pre></div>
<pre><code>## --------------------------------------------------------------------------------
## # Metrics description: 
## 
## Identification statistics:
##   the number of identifications for benchmark species
## 
## Quantification statistics:
##    valid ratios - total number of valid log-ratios that meet following conditions:
##     a) peptide/protein could be quantified in both samples.
##     b) calulcated log-ratio falls within the expectation range
##        defined by the sample composition and the spread of spread of the log-ratios observed for each species.
##     The expectation range is defined as a miximum difference of 5 standard deviations from the average ratio.
##    in plot range - numbers of valid log-ratios inside of the user defined plot range
##    out of plot range - numbers of valid log-ratios outside of the user defined plot range
##    invalid ratios - total numbers of invalid log-ratios
##    invalid ratios, out of validity range - proteins/peptides outside of validity range (see condition b)
##    invalid ratios, missing value - proteins/peptides exclusively quantified in one of the samples (see condition a)
## 
## Technical variance:
##   the median CV for the background species among replicate runs
## 
## Global accuracy:
##   accuracy of relative quantification,
##   the median deviation of log-ratios to the expected value
## 
## Global precision:
##   precision of quantification,
##   the standard deviation of log-ratios
## 
## Global species overlap:
##  species separation ability,
##  the area under ROC curve between a species pair.
## 
## Local accuracy:
##  local accuracy of relative quantification,
##  the median deviation of log-ratios to the expected value
##  for partial data split in quantiles by intensity in first sample
## 
## Local precision:
##  precision of quantification,
##  the standard deviation of log-ratios
##  for partial data split in quantiles by intensity in first sample
## 
## Local species overlap:
##  species separation ability,
##  the area under ROC curve between a species pair
##  for partial data split in quantiles by intensity in first sample
## --------------------------------------------------------------------------------</code></pre>
<p>LFQbench::LFQbench.changeConfiguration()</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
